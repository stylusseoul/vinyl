:root{
  --bg:#EF7C1C;
  --text:#F4F9FF;
  --text-dim:rgba(244,249,255,0.85);
  --line:rgba(255,255,255,0.28);
  --card:rgba(255,255,255,0.06);
  --radius:14px;
}
*{box-sizing:border-box}
html,body{
  margin:0;
  padding:0;
  min-height:100%;
  background:var(--bg);
  color:var(--text);
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif;
}

/* 헤더 */
.header{
  position:sticky;
  top:0;
  z-index:10;
  padding:12px 12px 10px;
  background:var(--bg);
  border-bottom:1px solid var(--line);
}
.logo-center{display:flex;justify-content:center;align-items:center;margin-bottom:12px}
.logo{height:46px;object-fit:contain}
.toolbar{padding:0 12px 10px}

/* 검색 행 */
.search-row{
  display:grid;
  grid-template-columns:1fr auto auto;
  gap:8px;
  align-items:center;
  margin-bottom:10px;
}
.search-row input{
  min-width:0;
  padding:12px 14px;
  border-radius:12px;
  border:1px solid var(--line);
  background:#fff;
  color:#222;
  font-size:16px;
  outline:none;
}
.btn{
  border:1px solid var(--line);
  background:transparent;
  color:var(--text);
  border-radius:10px;
  padding:0 12px;
  height:42px;
  font-size:14px;
  font-weight:600;
  min-width:80px;
}
.btn.primary{border-color:#fff;color:#fff}
.btn.ghost{opacity:.95}
@media (max-width:380px){
  .btn{min-width:68px;height:38px;padding:0 10px;font-size:13px}
  .search-row{gap:6px}
}

/* 필터 chips */
.filters{display:flex;flex-direction:column;gap:10px;padding-bottom:6px}
.filtergroup label{display:block;font-size:12px;color:var(--text-dim);margin:2px 0 6px 2px;font-weight:500}
.chips{display:flex;gap:8px;flex-wrap:wrap}
.chip{
  border:1px solid var(--line);
  background:transparent;
  color:var(--text);
  border-radius:999px;
  padding:8px 12px;
  font-size:12px;
  cursor:pointer;
  user-select:none;
  font-weight:600;
}
.chip.active{background:#fff;color:#EF7C1C;border-color:#fff}

/* 리스트 영역 */
.count{padding:10px 12px;color:var(--text-dim);font-size:13px}
.list{padding:0 8px 28px}
.more-wrap{display:flex;justify-content:center;padding:8px 12px 32px}
.detail-card{padding:14px 16px 40px}

.row{
  display:flex;
  gap:12px;
  align-items:center;
  padding:10px;
  margin:10px 0;
  border:1px solid var(--line);
  border-radius:var(--radius);
  background:var(--card);
  cursor:pointer;
}
.thumb{
  width:80px;
  height:80px;
  flex:0 0 80px;
  object-fit:cover;
  border-radius:10px;
  border:1px solid var(--line);
  background:rgba(255,255,255,0.15);
}
.row .info{flex:1;min-width:0;display:flex;flex-direction:column;gap:6px}
.row .album{font-size:16px;font-weight:700;margin:0;color:#fff}
.row .artist{font-size:13px;color:var(--text);opacity:.95;margin:0;font-weight:500}
.row .meta{font-size:12px;color:var(--text-dim);margin:0;font-weight:500}
.row .tracks{
  font-size:12px;
  color:#fff;
  margin:0;
  display:-webkit-box;
  -webkit-line-clamp:3;
  -webkit-box-orient:vertical;
  overflow:hidden;
  line-height:1.42;
  font-weight:400;
}

/* 푸터 */
.footer{
  position:static !important;
  width:100%;
  border-top:1px solid var(--line);
  background:var(--bg);
  padding:16px 0;
  text-align:center;
  margin-top:14px;
  z-index:auto !important;
}

/* 디테일 헤더 */
.detail-mode .header{border-bottom:none;}
.detail-header{
  display:flex;
  align-items:center;
  gap:8px;
  padding:8px 12px 0;
  background:var(--bg);
  border-bottom:1px solid var(--line);
}
.detail-header.hidden{display:none!important}
.btn.back{height:36px;padding:0 12px;border-radius:8px}

/* 디테일 카드 */
.d-cover{
  width:100%;
  max-width:560px;
  aspect-ratio:1/1;
  object-fit:cover;
  border-radius:12px;
  border:1px solid var(--line);
  background:rgba(255,255,255,0.15);
  display:block;
  margin:8px auto 14px auto;
}
.d-album{text-align:center;font-size:20px;font-weight:700;color:#fff;margin:0 0 6px 0}
.d-artist{text-align:center;font-size:14px;color:var(--text-dim);font-weight:500;margin:0 10px 12px 10px}
.d-tracks{
  list-style:none;
  margin:0;
  padding:0;
  border:1px solid var(--line);
  border-radius:10px;
  overflow:hidden;
  background:var(--card);
}
.d-tracks li{
  padding:12px 14px;
  border-bottom:1px solid var(--line);
  font-size:14px;
  color:#fff;
}
.d-tracks li:last-child{border-bottom:none}

/* brandbar */
.brandbar{
  position:sticky;
  top:0;
  z-index:20;
  display:grid;
  grid-template-columns:44px 1fr 44px;
  align-items:center;
  justify-items:center;
  gap:6px;
  padding:calc(env(safe-area-inset-top) + 6px) 12px 6px;
  background:var(--bg);
}
.brandbar .logo{height:46px;object-fit:contain;display:block;}
.brandbar .btn.back{
  justify-self:start;
  width:44px;
  height:44px;
  display:grid;
  place-items:center;
  background:transparent;
  border:none;
  color:var(--text);
}
.brandbar .spacer{width:44px;height:44px}

/* divider */
.divider{
  border:none;
  border-top:1px solid var(--line);
  margin:12px 0;
}

/* 모드별 표시 제어 */
body:not(.detail-mode) .brandbar .btn.back{visibility:hidden}
.detail-mode #toolbar{display:none!important}
.detail-mode .detail-card{padding-top:12px}

/* 뒤로가기 화살표 */
.brandbar .btn.back svg{
  width:30px;
  height:30px;
  stroke:var(--text);
  stroke-width:3.2;
  stroke-linecap:round;
  stroke-linejoin:round;
}

/* === 상세 이동/복귀시 하단 깨짐 방지 === */
body.detail-mode .list,
body.detail-mode .more-wrap {
  padding-bottom:40px !important;
}
body:not(.detail-mode) .detail-header {
  display:none !important;
}
body:not(.detail-mode) footer {
  margin-top:20px !important;
  padding-bottom:0 !important;
}
